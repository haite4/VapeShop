{% extends 'base.html' %}


{% block slider %}
{% include "include/slider.html" %}
{% endblock slider %}

{% block home-page %}
{% if new_product %}
<h3 class="home-page-header mb-4">New product</h3>
{% endif %}
<div class="col-md-11">
                                      
    <div class="row row-cols-1 row-cols-md-5 g-4">
       
        
       
        {% for product in new_product %}
        
    
        <div class="col">
            
                <div class="discount-placeholder">
                    {% if product.discount.active %}
                    <p class="discount-label">-{{ product.discount.amount }}%</p>
                    {% endif %}
                </div>
            
            <div class="card">
                
                <div style="position: relative; display: inline-block;">
                    <a class=" d-flex justify-content-end mt-2 me-2"   style="position: absolute; top: 10px; right: 10px;" >
                        <svg width="20" class="icon-heart" data-product-id="{{product.id}}"  height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" id="item-like">
                            <path d="M8 2.74805L7.28325 2.01133C5.5989 0.280067 2.51415 0.877695 1.40036 3.05284C0.876534 4.07583 0.75875 5.55246 1.71429 7.43758C2.63457 9.25313 4.54767 11.4265 8 13.7946C11.4523 11.4265 13.3654 9.25313 14.2857 7.43758C15.2413 5.55246 15.1235 4.07583 14.5996 3.05284C13.4859 0.877695 10.4011 0.280067 8.71675 2.01133L8 2.74805ZM8 15C-7.33313 4.86841 3.27876 -3.04087 7.82432 1.14308C7.88395 1.19797 7.94253 1.25493 8 1.314C8.05747 1.25494 8.11605 1.19797 8.17567 1.14309C12.7212 -3.04088 23.3331 4.8684 8 15Z" fill="black"/>
                            </svg>
                            
                    </a>

                      

                    <a href="{% url 'shop:product-detail' product.slug %}" >
                        
                        <img src="{{product.image.url}}" class="card-img-top img-thumbnail" alt="Product Image">
                    </a>
                </div>
                <div class="card-body">
                    
                    <a href="{% url 'shop:product-detail' product.slug %}" class="title-link">
                        
                        <h5 class="card-title">{{product.title}}</h5>
                    </a>
                   
                    {% if product.discount.active %}
                    <h5>{{ product.final_price|floatformat:"2" }} €</h5>
                    <s>{{product.price}}€</s>
     
                    {% else %}
                    <h5>{{product.price}}€</h5>
                {% endif %}
                            
                {% if product.quantity ==  0 %}
                    <span class="text-secondary">Not available</span>
                {% endif %}
                </div>
            </div>
        </div>
        
        {% endfor %}
   
    </div>
      {% if product_discount %}
            <h3 class="home-page-header mt-4">Discount</h3>
        <div class="row row-cols-1 row-cols-md-5 g-4">
            {% for product in product_discount %}

            <div class="col">
                
                <div class="discount-placeholder">
                    {% if product.discount.active %}
                    <p class="discount-label">-{{ product.discount.amount }}%</p>
                    {% endif %}
                </div>
                
                <div class="card">
                
                <div style="position: relative; display: inline-block;">
                    <a class=" d-flex justify-content-end mt-2 me-2"   style="position: absolute; top: 10px; right: 10px;" >
                        <svg width="20" class="icon-heart" data-product-id="{{product.id}}"  height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" id="item-like">
                            <path d="M8 2.74805L7.28325 2.01133C5.5989 0.280067 2.51415 0.877695 1.40036 3.05284C0.876534 4.07583 0.75875 5.55246 1.71429 7.43758C2.63457 9.25313 4.54767 11.4265 8 13.7946C11.4523 11.4265 13.3654 9.25313 14.2857 7.43758C15.2413 5.55246 15.1235 4.07583 14.5996 3.05284C13.4859 0.877695 10.4011 0.280067 8.71675 2.01133L8 2.74805ZM8 15C-7.33313 4.86841 3.27876 -3.04087 7.82432 1.14308C7.88395 1.19797 7.94253 1.25493 8 1.314C8.05747 1.25494 8.11605 1.19797 8.17567 1.14309C12.7212 -3.04088 23.3331 4.8684 8 15Z" fill="black"/>
                            </svg>
                            
                    </a>

                    

                    <a href="{% url 'shop:product-detail' product.slug %}" >
                        
                        <img src="{{product.image.url}}" class="card-img-top img-thumbnail" alt="Product Image">
                    </a>
                </div>
                <div class="card-body">
                    
                    <a href="{% url 'shop:product-detail' product.slug %}" class="title-link">
                        
                        <h5 class="card-title">{{product.title}}</h5>
                    </a>
                
                    {% if product.discount.active %}
                    <h5>{{ product.final_price|floatformat:"2" }} €</h5>
                    <s>{{product.price}}€</s>
    
                    {% else %}
                    <h5>{{product.price}}€</h5>
                {% endif %}
                            
                {% if product.quantity ==  0 %}
                    <span class="text-secondary">Not available</span>
                {% endif %}
                </div>
            </div>
            
    
            </div>
        {% endfor %}
        
      {% endif %}

</div>
<a href="{% url 'blog:show-blog' %}" class="home-page-link">
<div class="container-home-page-slider">
    
        <div class="half-screen-block mt-3">
            <h2>Топ вейпов и  <br>электронных сигарет</h2>
            
            <div class="svg-container">
                <!-- Ваш SVG код здесь -->
            
                    <svg width="120" height="120" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 16C11.3137 16 14 14 14 10.5C14 9 13.5 6.5 11.5 4.5C11.75 6 10.25 6.5 10.25 6.5C11 4 9 0.5 6 0C6.35714 2 6.5 4 4 6C2.75 7 2 8.72893 2 10.5C2 14 4.68629 16 8 16ZM8 15C6.34315 15 5 14 5 12.25C5 11.5 5.25 10.25 6.25 9.25C6.125 10 7 10.5 7 10.5C6.625 9.25 7.5 7.25 9 7C8.82143 8 8.75 9 10 10C10.625 10.5 11 11.3645 11 12.25C11 14 9.65685 15 8 15Z" fill="white"/>
                    </svg>
                
            </div>
        </div>

    <div class="half-screen-block mt-3 ms-3">
        <h2>Как выбрать <br>электронную сигарету</h2>

        <svg width="120" height="120" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 8C8.82843 8 9.5 7.10457 9.5 6C9.5 4.89543 8.82843 4 8 4C7.17157 4 6.5 4.89543 6.5 6C6.5 7.10457 7.17157 8 8 8Z" fill="white"/>
            <path d="M11.9531 8.8096C11.7582 5.42154 10.9848 3.30277 10.1755 1.99133C9.70748 1.23288 9.23127 0.750981 8.8583 0.454044C8.67223 0.305906 8.51299 0.204711 8.39489 0.138503C8.33586 0.105416 8.28719 0.0811064 8.25064 0.0640617C8.1707 0.0267795 8.10103 -6.8418e-05 8 1.30966e-07C7.89212 7.33278e-05 7.81554 0.0317192 7.7337 0.073418C7.69788 0.0916677 7.64996 0.11763 7.59172 0.152695C7.47518 0.222853 7.31755 0.329315 7.13303 0.483077C6.76331 0.791181 6.28944 1.28607 5.8229 2.05253C5.01804 3.37481 4.24626 5.48597 4.04858 8.80909L2.55159 10.6352L2.54783 10.6398C2.1932 11.0831 2 11.6339 2 12.2016V15.5C2 15.7152 2.13772 15.9063 2.34189 15.9743C2.54606 16.0424 2.77087 15.9722 2.9 15.8L4.02515 14.2998C4.19123 14.0784 4.44467 13.8993 4.77743 13.7302C4.99074 13.6218 5.19059 13.5378 5.40235 13.4487C5.46685 13.4216 5.53245 13.3941 5.59987 13.3652C6.30059 13.7934 7.15025 14 8 14C8.84958 14 9.69907 13.7935 10.3997 13.3654C10.4668 13.3941 10.5321 13.4215 10.5963 13.4485C10.8086 13.5377 11.009 13.6218 11.2225 13.7303C11.5553 13.8993 11.8087 14.0783 11.9749 14.2998L13.1 15.8C13.2291 15.9722 13.4539 16.0424 13.6581 15.9743C13.8623 15.9063 14 15.7152 14 15.5V12.2016C14 11.6339 13.8068 11.0831 13.4522 10.6398L11.9531 8.8096ZM12 10.445L12 10.5C12 11.3656 11.716 12.0849 11.2499 12.6404C11.3959 12.7043 11.542 12.7709 11.6754 12.8387C12.0641 13.0362 12.4748 13.2998 12.7749 13.6998L13 14V12.2016C13 11.8619 12.8847 11.5322 12.673 11.2666L12 10.445ZM4.74995 12.6402C4.28391 12.0847 4 11.3656 4 10.5L4.00005 10.4456L3.32698 11.2667C3.1153 11.5323 3 11.8619 3 12.2016V14L3.22515 13.6998C3.52512 13.2998 3.93573 13.0362 4.32437 12.8387C4.45772 12.771 4.60384 12.7042 4.74995 12.6402ZM8.0087 1.07284C8.07183 1.11345 8.14841 1.16709 8.23545 1.23639C8.51873 1.46191 8.91752 1.85697 9.32449 2.51648C10.1383 3.83521 11 6.23742 11 10.5C11 11.358 10.626 11.9798 10.057 12.393C9.51611 12.7858 8.78126 13 8 13C7.21852 13 6.48348 12.7857 5.94256 12.3927C5.37377 11.9795 5 11.3578 5 10.5C5 6.31787 5.86082 3.91351 6.6771 2.57247C7.08556 1.90143 7.48669 1.49007 7.77322 1.2513C7.8639 1.17573 7.9435 1.11712 8.0087 1.07284Z" fill="white"/>
            <path d="M9.47895 14.3614C8.9989 14.4543 8.49947 14.5 8.00002 14.5C7.50057 14.5 7.00114 14.4543 6.52108 14.3614L7.60002 15.8C7.69444 15.9259 7.84264 16 8.00002 16C8.1574 16 8.30559 15.9259 8.40002 15.8L9.47895 14.3614Z" fill="white"/>
            </svg>
            
    </div>
</div>
</a>
    
{% endblock %}